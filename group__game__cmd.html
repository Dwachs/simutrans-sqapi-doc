<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Simutrans-Squirrel-API: Function to alter the state of the game and map</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simutrans-Squirrel-API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Function to alter the state of the game and map</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__rename__func"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rename__func.html">Functions to rename something in the game</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcommand__x.html">command_x</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga807d42a9775daabb1976e99006971937"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game__cmd.html#ga807d42a9775daabb1976e99006971937">convoy_x::set_line</a> (<a class="el" href="classplayer__x.html">player_x</a> player, <a class="el" href="classline__x.html">line_x</a> line)</td></tr>
<tr class="separator:ga807d42a9775daabb1976e99006971937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0d1f84dfdfc836791f05027047868df"><td class="memItemLeft" align="right" valign="top">void_x&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game__cmd.html#gad0d1f84dfdfc836791f05027047868df">convoy_x::toggle_withdraw</a> (<a class="el" href="classplayer__x.html">player_x</a>)</td></tr>
<tr class="separator:gad0d1f84dfdfc836791f05027047868df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b6b7d02d23f2001e76954b50ef2ce72"><td class="memItemLeft" align="right" valign="top">void_x&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game__cmd.html#ga4b6b7d02d23f2001e76954b50ef2ce72">convoy_x::destroy</a> (<a class="el" href="classplayer__x.html">player_x</a>)</td></tr>
<tr class="separator:ga4b6b7d02d23f2001e76954b50ef2ce72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e8b4f370cb3ea6a2de998e14c1f8a53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game__cmd.html#ga9e8b4f370cb3ea6a2de998e14c1f8a53">line_x::change_schedule</a> (<a class="el" href="classplayer__x.html">player_x</a> <a class="el" href="classschedule__x.html">schedule_x</a>)</td></tr>
<tr class="separator:ga9e8b4f370cb3ea6a2de998e14c1f8a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae93cd3745587d7ac4d03910b0ff84e74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game__cmd.html#gae93cd3745587d7ac4d03910b0ff84e74">depot_x::append_vehicle</a> (<a class="el" href="classplayer__x.html">player_x</a> pl, <a class="el" href="classconvoy__x.html">convoy_x</a> cnv, <a class="el" href="classvehicle__desc__x.html">vehicle_desc_x</a> desc)</td></tr>
<tr class="separator:gae93cd3745587d7ac4d03910b0ff84e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52620c373039e819b5eeb0cb1e633000"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game__cmd.html#ga52620c373039e819b5eeb0cb1e633000">depot_x::start_convoy</a> (<a class="el" href="classplayer__x.html">player_x</a> <a class="el" href="classconvoy__x.html">convoy_x</a>)</td></tr>
<tr class="separator:ga52620c373039e819b5eeb0cb1e633000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafeb5904a816c2ea9a68f1a7c61cc4d06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game__cmd.html#gafeb5904a816c2ea9a68f1a7c61cc4d06">depot_x::start_all_convoys</a> (<a class="el" href="classplayer__x.html">player_x</a>)</td></tr>
<tr class="separator:gafeb5904a816c2ea9a68f1a7c61cc4d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6bdb1e5983d19f6ac97dcc609ea7d7d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game__cmd.html#ga6bdb1e5983d19f6ac97dcc609ea7d7d7">player_x::create_line</a> (<a class="el" href="api__const_8cc.html#a54cfd1fb3beb4607096d5c42809655af">way_types</a> wt)</td></tr>
<tr class="separator:ga6bdb1e5983d19f6ac97dcc609ea7d7d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89fc4097e502862e9efb0a7c726da383"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game__cmd.html#ga89fc4097e502862e9efb0a7c726da383">tile_x::remove_object</a> (<a class="el" href="classplayer__x.html">player_x</a> pl, <a class="el" href="api__const_8cc.html#af16da98cba4f09b335898bbba756034b">map_objects</a> type)</td></tr>
<tr class="separator:ga89fc4097e502862e9efb0a7c726da383"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The player parameter in these functions represents the player that executes the command and pays for it. If the call is from an AI player then the parameter is set to <a class="el" href="group__ai__only.html#ga6dac60e88d9c5fc40e9119474f134a72">player_x::self</a>, and it will be checked whether the player is permitted to execute the command. Calls from scenario always pass this check. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gae93cd3745587d7ac4d03910b0ff84e74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void depot_x::append_vehicle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__x.html">player_x</a>&#160;</td>
          <td class="paramname"><em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classconvoy__x.html">convoy_x</a>&#160;</td>
          <td class="paramname"><em>cnv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvehicle__desc__x.html">vehicle_desc_x</a>&#160;</td>
          <td class="paramname"><em>desc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Append a car to the convoy in this depot. If the convoy does not exist, a new one is created first. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pl</td><td>player owns the convoy </td></tr>
    <tr><td class="paramname">cnv</td><td>the convoy </td></tr>
    <tr><td class="paramname">desc</td><td>decriptor of the vehicle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9e8b4f370cb3ea6a2de998e14c1f8a53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void line_x::change_schedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__x.html">player_x</a>&#160;</td>
          <td class="paramname"><em>schedule_x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change schedule of line </p>

</div>
</div>
<a class="anchor" id="ga6bdb1e5983d19f6ac97dcc609ea7d7d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void player_x::create_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="api__const_8cc.html#a54cfd1fb3beb4607096d5c42809655af">way_types</a>&#160;</td>
          <td class="paramname"><em>wt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new line for the player of the given way type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wt</td><td>way type </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4b6b7d02d23f2001e76954b50ef2ce72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void_x convoy_x::destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__x.html">player_x</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the convoy. </p>

</div>
</div>
<a class="anchor" id="ga89fc4097e502862e9efb0a7c726da383"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string tile_x::remove_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__x.html">player_x</a>&#160;</td>
          <td class="paramname"><em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api__const_8cc.html#af16da98cba4f09b335898bbba756034b">map_objects</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove object of given type from the tile. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pl</td><td>player that pays for removal </td></tr>
    <tr><td class="paramname">type</td><td>object type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>null upon success, an error message otherwise </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be used in network games. Does not work with all object types. </dd></dl>

</div>
</div>
<a class="anchor" id="ga807d42a9775daabb1976e99006971937"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string convoy_x::set_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__x.html">player_x</a>&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classline__x.html">line_x</a>&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assigns the convoy to the given line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td></td></tr>
    <tr><td class="paramname">line</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gafeb5904a816c2ea9a68f1a7c61cc4d06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void depot_x::start_all_convoys </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__x.html">player_x</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start all convoys in this depot. </p>

</div>
</div>
<a class="anchor" id="ga52620c373039e819b5eeb0cb1e633000"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void depot_x::start_convoy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__x.html">player_x</a>&#160;</td>
          <td class="paramname"><em>convoy_x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start the convoy in this depot. </p>

</div>
</div>
<a class="anchor" id="gad0d1f84dfdfc836791f05027047868df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void_x convoy_x::toggle_withdraw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__x.html">player_x</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Toggle the flag 'withdraw convoy' </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
